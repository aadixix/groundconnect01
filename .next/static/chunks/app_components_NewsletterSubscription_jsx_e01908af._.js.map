{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/NIKHIL/Downloads/Letast/app/components/NewsletterSubscription.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { subscribeToNewsletter } from './path/to/your/api/utils'; // Update this path to match your file structure\r\n\r\nexport default function NewsletterSubscription({ variant = 'full' }) {\r\n    const [email, setEmail] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [type, setType] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleSubscription = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!email || !email.includes('@')) {\r\n            setMessage('Please enter a valid email address');\r\n            setType('error');\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setMessage('');\r\n\r\n        try {\r\n            // Use the imported API function instead of direct fetch\r\n            const data = await subscribeToNewsletter(email);\r\n\r\n            if (data.rs === 1) { \r\n                // Success case\r\n                setMessage(data.res?.ResponseMessage || 'Successfully subscribed to newsletter!');\r\n                setType('success');\r\n                setEmail('');\r\n            } else {\r\n                // Handle different error cases based on ResponseMessage\r\n                const responseMsg = data.res?.ResponseMessage || 'Subscription failed. Please try again.';\r\n                \r\n                if (responseMsg.toLowerCase().includes('already subscribed')) {\r\n                    setMessage('This email is already subscribed to our newsletter.');\r\n                    setType('info'); // Use info type for already subscribed\r\n                } else {\r\n                    setMessage(responseMsg);\r\n                    setType('error');\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Newsletter subscription error:', error);\r\n            setMessage('Something went wrong. Please try again.');\r\n            setType('error');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Compact version \r\n    if (variant === 'compact') {\r\n        return (\r\n            <div className=\"w-full max-w-md mx-auto\">\r\n                {message && (\r\n                    <div className={`mb-3 p-3 rounded text-sm ${\r\n                        type === 'success' \r\n                            ? 'bg-green-100 text-green-700 border border-green-200'\r\n                            : type === 'info'\r\n                            ? 'bg-blue-100 text-blue-700 border border-blue-200'\r\n                            : 'bg-red-100 text-red-700 border border-red-200'\r\n                        }`}>\r\n                        {message}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubscription} className=\"flex gap-0\">\r\n                    <input\r\n                        type=\"email\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        placeholder=\"Type your Email\"\r\n                        required\r\n                        disabled={isLoading}\r\n                        className=\"flex-1 px-4 py-2.5 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-700 placeholder-gray-400 text-sm disabled:bg-gray-100\"\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-medium px-6 py-2.5 rounded-r-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm disabled:cursor-not-allowed\"\r\n                    >\r\n                        {isLoading ? 'Subscribing...' : 'Subscribe'}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Full section version \r\n    return (\r\n        <div className=\"w-full bg-gradient-to-r from-green-50 to-green-100 py-12 px-6\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                <div className=\"bg-white rounded-lg shadow-sm p-8\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-800 mb-3\">\r\n                        Subscribe to our Newsletter\r\n                    </h2>\r\n                    <p className=\"text-gray-600 mb-6\">\r\n                        Stay updated with the latest news and updates from the agricultural world.\r\n                    </p>\r\n\r\n                    {message && (\r\n                        <div className={`mb-4 p-4 rounded-lg ${\r\n                            type === 'success'\r\n                                ? 'bg-green-100 text-green-700 border border-green-200'\r\n                                : type === 'info'\r\n                                ? 'bg-blue-100 text-blue-700 border border-blue-200'\r\n                                : 'bg-red-100 text-red-700 border border-red-200'\r\n                            }`}>\r\n                            {message}\r\n                        </div>\r\n                    )}\r\n\r\n                    <form onSubmit={handleSubscription} className=\"flex flex-col sm:flex-row gap-4\">\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            placeholder=\"Your email address\"\r\n                            required\r\n                            disabled={isLoading}\r\n                            className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-700 placeholder-gray-400 disabled:bg-gray-100\"\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading}\r\n                            className=\"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-semibold px-8 py-3 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:cursor-not-allowed\"\r\n                        >\r\n                            {isLoading ? 'Subscribing...' : 'Subscribe'}\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AAEA;;;;;;;;AAFA;;;AAKe,SAAS,uBAAuB,EAAE,UAAU,MAAM,EAAE;;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,qBAAqB,OAAO;QAC9B,EAAE,cAAc;QAEhB,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,CAAC,MAAM;YAChC,WAAW;YACX,QAAQ;YACR;QACJ;QAEA,aAAa;QACb,WAAW;QAEX,IAAI;YACA,wDAAwD;YACxD,MAAM,OAAO,MAAM,sBAAsB;YAEzC,IAAI,KAAK,EAAE,KAAK,GAAG;gBACf,eAAe;gBACf,WAAW,KAAK,GAAG,EAAE,mBAAmB;gBACxC,QAAQ;gBACR,SAAS;YACb,OAAO;gBACH,wDAAwD;gBACxD,MAAM,cAAc,KAAK,GAAG,EAAE,mBAAmB;gBAEjD,IAAI,YAAY,WAAW,GAAG,QAAQ,CAAC,uBAAuB;oBAC1D,WAAW;oBACX,QAAQ,SAAS,uCAAuC;gBAC5D,OAAO;oBACH,WAAW;oBACX,QAAQ;gBACZ;YACJ;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,kCAAkC;YAChD,WAAW;YACX,QAAQ;QACZ,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,mBAAmB;IACnB,IAAI,YAAY,WAAW;QACvB,qBACI,6LAAC;YAAI,WAAU;;gBACV,yBACG,6LAAC;oBAAI,WAAW,CAAC,yBAAyB,EACtC,SAAS,YACH,wDACA,SAAS,SACT,qDACA,iDACJ;8BACD;;;;;;8BAIT,6LAAC;oBAAK,UAAU;oBAAoB,WAAU;;sCAC1C,6LAAC;4BACG,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,aAAY;4BACZ,QAAQ;4BACR,UAAU;4BACV,WAAU;;;;;;sCAEd,6LAAC;4BACG,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,YAAY,mBAAmB;;;;;;;;;;;;;;;;;;IAKpD;IAEA,wBAAwB;IACxB,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAAwC;;;;;;kCAGtD,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;oBAIjC,yBACG,6LAAC;wBAAI,WAAW,CAAC,oBAAoB,EACjC,SAAS,YACH,wDACA,SAAS,SACT,qDACA,iDACJ;kCACD;;;;;;kCAIT,6LAAC;wBAAK,UAAU;wBAAoB,WAAU;;0CAC1C,6LAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,aAAY;gCACZ,QAAQ;gCACR,UAAU;gCACV,WAAU;;;;;;0CAEd,6LAAC;gCACG,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,YAAY,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5D;GApIwB;KAAA","debugId":null}}]
}